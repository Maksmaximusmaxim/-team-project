!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},o=n.parcelRequire7310;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequire7310=o),o.register("hKHmD",(function(e,n){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}}));var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")};var c={};function i(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,n,t){n&&i(e.prototype,n);t&&i(e,t);return e};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s.default(e,n,t[n])}))}return e};var u,s=(u=o("hKHmD"))&&u.__esModule?u:{default:u};var f="https://api.themoviedb.org/3",d="f83ab619d56ba761ff69bc866a8288d9",p=new(function(){"use strict";function n(){e(a)(this,n),this.searchQuery="",this.page=1}return e(c)(n,[{key:"fetchTrendMovies",value:function(){var e="".concat(f,"/trending/movie/week?api_key=").concat(d,"&language=en-US&page=").concat(this.page);return fetch(e).then((function(e){return e.json()})).then((function(e){return e.results}))}},{key:"fetchGenres",value:function(){var e="".concat(f,"/genre/movie/list?api_key=").concat(d,"&language=en-US&page=").concat(this.page);return console.log(e),fetch(e).then((function(e){return e.json()})).then((function(e){return e.genres}))}},{key:"getGenreTrendMovies",value:function(){var n=this;return this.fetchTrendMovies().then((function(t){return n.fetchGenres().then((function(n){return t.map((function(t){return e(l)({},t,{release_date:t.release_date.split("-")[0],genres:t.genre_ids.map((function(e){return n.filter((function(n){return n.id===e}))})).flat()})}))}))}))}}]),n}()),v=document.querySelector(".cards");p.getGenreTrendMovies().then((function(e){console.log(e),function(e){e.forEach((function(e){var n="";e.genres.forEach((function(e){n+=e.name+" "}));var t='<div class="movie_cards">\n        <img src="https://image.tmdb.org/t/p/original'.concat(e.poster_path,'" alt="" loading="lazy" class=\'list__element\' />\n        <div class="info">\n        <p class="info_title">\n            ').concat(e.original_title,'\n          </p>\n          <p class="info_genre">\n            ').concat(n," </span> | <span> ").concat(e.release_date,"\n          </p>\n          \n        </div>\n      </div>");v.insertAdjacentHTML("beforeend",t)}))}(e)})).catch((function(e){console.log("error in function render")}));var b=document.querySelector('[data-action="open-modal"]'),h=document.querySelector('[data-action="close-modal"]'),g=document.querySelector(".js-backdrop");function y(){document.body.classList.remove("show-modal")}b.addEventListener("click",(function(){document.body.classList.add("show-modal")})),h.addEventListener("click",y),g.addEventListener("click",(function(e){e.currentTarget===e.target&&y()})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&y()}));var m={homeEl:document.querySelector(".header-refs"),libraryEl:document.querySelector(".refs-library"),formEl:document.querySelector(".search-form")};m.libraryEl.addEventListener("click",(function(e){e.preventDefault(),m.homeEl.classList.remove("active"),m.libraryEl.classList.add("active"),n='<ul class="list-btn">\n <li class="list-btn-item"><button type="button" class="btn">Watched</button></li>\n <li class="list-btn-item"><button type="button" class="btn">queue</button></li>',m.formEl.innerHTML=n;var n}))}();
//# sourceMappingURL=index.b0bf238c.js.map
