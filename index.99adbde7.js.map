{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_define_property.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","node_modules/@swc/helpers/lib/_object_spread.js","src/js/apiServices.js","src/js/renderTrendMovies.js","<<jsx-config-pragma.js>>","src/js/modal.js","src/js/header.js","src/js/upBtn.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","const BASE_URL = `https://api.themoviedb.org/3`;\nconst KEY = `f83ab619d56ba761ff69bc866a8288d9`;\nexport default class ApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n  fetchTrendMovies() {\n    const url = `${BASE_URL}/trending/movie/week?api_key=${KEY}&language=en-US&page=${this.page}`;\n    return fetch(url)\n      .then(response => response.json())\n      .then(({ results }) => {\n        return results;\n      });\n  }\n\n\n  fetchGenres() {\n    const url = `${BASE_URL}/genre/movie/list?api_key=${KEY}&language=en-US&page=${this.page}`;\n    console.log(url);\n    return fetch(url)\n      .then(response => response.json())\n      .then( results  => {\n        return results.genres;\n      });\n  }\n\n  getGenreTrendMovies() {\n    return this.fetchTrendMovies().then(data => {\n      return this.fetchGenres().then(genresList => {\n        return data.map(movie => ({\n          ...movie,\n          release_date: movie.release_date.split('-')[0],\n          genres: movie.genre_ids\n            .map(id => genresList.filter(el => el.id === id))\n            .flat(),\n        }));\n      });\n    });\n  }\n}","import ApiService from './apiServices';\n\nlet apiService = new ApiService();\n\n  const gallery = document.querySelector('.cards');\napiService\n  .getGenreTrendMovies()\n  .then(data => {\n    console.log(data);\n    renderData(data);\n  })\n  .catch(err => {\n    console.log('error in function render');\n  });\n\n  function renderData (data){\n    data.forEach(function(element){\n        let genreStr = \"\";\n    element.genres.forEach(function(genre){\n        genreStr += genre.name+' ';\n    });\n        \n      let item =`<div class=\"movie_cards\">\n        <img src=\"https://image.tmdb.org/t/p/original${element.poster_path}\" alt=\"\" loading=\"lazy\" class='list__element' />\n        <div class=\"info\">\n        <p class=\"info_title\">\n            ${element.original_title}\n          </p>\n          <p class=\"info_genre\">\n            ${genreStr} </span> | <span> ${element.release_date}\n          </p>\n          \n        </div>\n      </div>`;\n      gallery.insertAdjacentHTML(\"beforeend\", item);\n    });\n    \n    \n}",null,"\n// Основні змінні\n\nconst open = document.querySelector('[data-action=\"open-modal\"]');\nconst close = document.querySelector('[data-action=\"close-modal\"]');\nconst backdrop = document.querySelector('.js-backdrop');\n\n// Слухачі   \n\nopen.addEventListener('click', onOpen);\nclose.addEventListener('click', onClose);\nbackdrop.addEventListener('click', onBackdrop);\nwindow.addEventListener('keydown', onEsc);\n\n\n// Функція відкриття модалки\nfunction onOpen() {\n   document.body.classList.add('show-modal');\n}\n\n// Функція закриття модалки\nfunction onClose() {\n   document.body.classList.remove('show-modal');  \n}\n\n// Функція закриття модалки по кліку в Backdrop \nfunction onBackdrop(e) {\n   if(e.currentTarget === e.target) {\n      onClose(); \n   }\n}\n\n// Функція закриття модалки по Escape  \nfunction onEsc(e) {\nconst escKey = 'Escape',\nisEscKey = e.code === escKey;\nif(isEscKey) {\nonClose();   \n}\n}\n","const refs = {\n  homeEl: document.querySelector('.header-refs'),\n  libraryEl: document.querySelector('.refs-library'),\n  formEl: document.querySelector('.search-form'),\n  headerEl: document.querySelector('header'),\n};\n\nrefs.libraryEl.addEventListener('click', onLibraryClick);\n\nfunction onLibraryClick(event) {\n  event.preventDefault();\n  refs.homeEl.classList.remove('active');\n  refs.libraryEl.classList.add('active');\n  changeMarkup();\n  changeBackgroundImg();\n}\nfunction changeMarkup() {\n  const markup = `<ul class=\"list-btn\">\n <li class=\"list-btn-item\"><button type=\"button\" class=\"btn\">Watched</button></li>\n <li class=\"list-btn-item\"><button type=\"button\" class=\"btn\">queue</button></li>`;\n  refs.formEl.innerHTML = markup;\n}\nfunction changeBackgroundImg() {\n  refs.headerEl.classList.add('header-library');\n}\n","const upBtn = document.querySelector('[data-upbtn]');\n\nupBtn.addEventListener('click', scrollTop);\nwindow.addEventListener('scroll', hideUpBtn(upBtn))\n\n\nfunction scrollTop() {\n    window.scrollTo({top: 0, behavior: 'smooth'})\n}\n\nfunction hideUpBtn(element) {\n    return function hide() {\n        if (window.pageYOffset < document.documentElement.clientHeight) {\n        element.classList.add('visuallyhidden'); \n        // console.log(window.pageYOffset);\n        // console.log(document.documentElement.clientHeight);\n    }\n    else {\n        element.classList.remove('visuallyhidden');\n        // console.log(window.pageYOffset);\n        // console.log(document.documentElement.clientHeight);\n    }\n    }\n    \n}\n\n"],"names":["Object","defineProperty","module","exports","value","default","obj","key","enumerable","configurable","writable","$665014edacbfe17b$exports","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$9eddae5a012cde57$exports","arguments","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$9eddae5a012cde57$var$_defineProperty","parcelRequire","__esModule","$70a6312eb1142b2d$var$BASE_URL","$70a6312eb1142b2d$var$KEY","$063a4d688f26e1ba$var$apiService","ApiService","this","searchQuery","page","url","fetch","then","response","json","param","results","console","log","genres","fetchTrendMovies","data","_this","fetchGenres","genresList","map","movie","$parcel$interopDefault","release_date","split","genre_ids","id","el","flat","$063a4d688f26e1ba$var$gallery","document","querySelector","getGenreTrendMovies","element","genreStr","genre","name","item","poster_path","original_title","insertAdjacentHTML","$063a4d688f26e1ba$var$renderData","catch","err","$40873ecf3c18e122$var$open","$40873ecf3c18e122$var$close","$40873ecf3c18e122$var$backdrop","$40873ecf3c18e122$var$onClose","body","classList","remove","addEventListener","add","e","currentTarget","window","code","$d35165bd5db5382a$var$refs","homeEl","libraryEl","formEl","headerEl","event","preventDefault","markup","innerHTML","$125e7965992aac85$var$upBtn","scrollTo","top","behavior","pageYOffset","documentElement","clientHeight"],"version":3,"file":"index.99adbde7.js.map"}