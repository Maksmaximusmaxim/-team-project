let e=new class{fetchTrendMovies(){const e=`https://api.themoviedb.org/3/trending/movie/week?api_key=f83ab619d56ba761ff69bc866a8288d9&language=en-US&page=${this.page}`;return fetch(e).then((e=>e.json())).then((({results:e})=>e))}fetchGenres(){const e=`https://api.themoviedb.org/3/genre/movie/list?api_key=f83ab619d56ba761ff69bc866a8288d9&language=en-US&page=${this.page}`;return console.log(e),fetch(e).then((e=>e.json())).then((e=>e.genres))}getGenreTrendMovies(){return this.fetchTrendMovies().then((e=>this.fetchGenres().then((t=>e.map((e=>({...e,release_date:e.release_date.split("-")[0],genres:e.genre_ids.map((e=>t.filter((t=>t.id===e)))).flat()})))))))}constructor(){this.searchQuery="",this.page=1}};const t=document.querySelector(".cards");e.getGenreTrendMovies().then((e=>{console.log(e),function(e){e.forEach((function(e){let n="";e.genres.forEach((function(e){n+=e.name+" "}));let o=`<div class="movie_cards">\n        <img src="https://image.tmdb.org/t/p/original${e.poster_path}" alt="" loading="lazy" class='list__element' />\n        <div class="info">\n        <p class="info_title">\n            ${e.original_title}\n          </p>\n          <p class="info_genre">\n            ${n} </span> | <span> ${e.release_date}\n          </p>\n          \n        </div>\n      </div>`;t.insertAdjacentHTML("beforeend",o)}))}(e)})).catch((e=>{console.log("error in function render")}));const n=document.querySelector('[data-action="open-modal"]'),o=document.querySelector('[data-action="close-modal"]'),s=document.querySelector(".js-backdrop");function a(){document.body.classList.remove("show-modal")}n.addEventListener("click",(function(){document.body.classList.add("show-modal")})),o.addEventListener("click",a),s.addEventListener("click",(function(e){e.currentTarget===e.target&&a()})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&a()}));const r={homeEl:document.querySelector(".header-refs"),libraryEl:document.querySelector(".refs-library"),formEl:document.querySelector(".search-form")};r.libraryEl.addEventListener("click",(function(e){e.preventDefault(),r.homeEl.classList.remove("active"),r.libraryEl.classList.add("active"),function(){const e='<ul class="list-btn">\n <li class="list-btn-item"><button type="button" class="btn">Watched</button></li>\n <li class="list-btn-item"><button type="button" class="btn">queue</button></li>';r.formEl.innerHTML=e}()}));
//# sourceMappingURL=index.af46bb12.js.map
